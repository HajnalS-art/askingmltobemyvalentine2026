<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>

  <style>
    :root{
      /* color palette */
      --pink-1: #D47897;   /* page background */
      --pink-2: #E09FB2;   /* left button */
      --pink-3: #F8DEE5;   /* box */
      --green-1:#799F77;   /* right button */

      --ink:#3a2230;
      --shadow: 0 18px 45px rgba(58, 34, 48, 0.22);
    }

    *{ box-sizing:border-box; 
    }   
    
    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      background: var(--pink-1);
      font-family: "Garamond", "EB Garamond", "Times New Roman", serif;
      color: var(--ink);
      padding: 24px;
    }

    .box{
      width: min(720px, 100%);
      background: var(--pink-3);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 26px 24px 22px;
      text-align:center;
    }

    h1{
      margin: 0 0 12px 0;
      font-size: clamp(28px, 3.6vw, 42px);
      font-weight: 700;
      letter-spacing: .4px;
    }

    .subtext{
      margin: 0;
      font-size: 18px;
      line-height: 1.5;
      opacity: .9;
      min-height: 1.5em; /* keeps space */
      padding: 0 10px;
    }

    .choices{
      margin-top: 20px;
      display:flex;
      justify-content:center;
      gap: 16px;
      flex-wrap:wrap;
    }

    button.choice{
      border:none;
      cursor:pointer;
      padding: 12px 26px;
      border-radius: 999px;
      font-size: 18px;
      font-family: "Garamond";
      font-weight: 600;
      letter-spacing: .3px;
      transition: transform .08s ease, filter .2s ease;
      width: min(280px, 90%);
      min-height: 52px;
      white-space: normal;
      text-align: center;
      line-height: 1.3;
    }


    button.choice:hover{ filter: brightness(1.03); }
    button.choice:active{ transform: translateY(1px) scale(.99); }

    .leftBtn{
      background: var(--pink-2);
      color: white;
    }

    .rightBtn{
      background: var(--green-1);
      color: white;
    }

    /* single centered green button */
    button.single{
      background: var(--green-1);
      color: white;
      margin: 0 auto;
      display: block;
    }
    
    footer{
      margin-top: 18px;
      font-size: 13px;
      opacity: .65;
      font-family: Allura;
    }

    /* Heart fireworks overlay */
    #fxCanvas{
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
      opacity: 0;
      transition: opacity .25s ease;
    }

#fxCanvas.show{
  opacity: 1;
}

  </style>
</head>
  
<body>
  <canvas id="fxCanvas"></canvas>

  <main class="box">
    <h1 id="question">Will you be my Valentine?</h1>
    <p class="subtext" id="subtext"></p>
    <div class="choices" id="choices"></div>
    <footer>â™¡â™¡SHâ™¡â™¡</footer>
  </main>

  <script>
    // --- Heart Fireworks FX (runs on endYes) ---
    const fxCanvas = document.getElementById("fxCanvas");
    const fxCtx = fxCanvas.getContext("2d", { alpha: true });

    let W = 0, H = 0;
    function resizeFX(){
      const dpr = window.devicePixelRatio || 1;
      fxCanvas.width  = Math.floor(window.innerWidth  * dpr);
      fxCanvas.height = Math.floor(window.innerHeight * dpr);
      fxCanvas.style.width  = "100%";
      fxCanvas.style.height = "100%";
      W = fxCanvas.width; H = fxCanvas.height;
      fxCtx.setTransform(1,0,0,1,0,0);
    }
    window.addEventListener("resize", resizeFX);
    resizeFX();

    function rand(a,b){ return a + Math.random()*(b-a); }

    let particles = [];
    let fxRunning = false;
    let fxStopAt = 0;
    let lastSpawn = 0;

    function heartPath(ctx, x, y, s, rot){
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rot);
      ctx.scale(s, s);
      ctx.beginPath();
      ctx.moveTo(0, -0.4);
      ctx.bezierCurveTo(0.5, -0.95, 1.4, -0.25, 0, 1.0);
      ctx.bezierCurveTo(-1.4, -0.25, -0.5, -0.95, 0, -0.4);
      ctx.closePath();
      ctx.restore();
    }

    function spawnBurst(cx, cy){
      const dpr = window.devicePixelRatio || 1;
      const count = Math.floor(rand(22, 36));
      for(let i=0;i<count;i++){
        const a = rand(0, Math.PI*2);
        const sp = rand(1.2, 3.4) * dpr;
        const p = {
          x: cx, y: cy,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp - rand(0.2, 1.3)*dpr,
          g: rand(0.02, 0.06)*dpr,
          drag: rand(0.985, 0.995),
          life: rand(55, 95),
          maxLife: 0,
          size: rand(6, 12)*dpr,
          rot: rand(0, Math.PI*2),
          vr: rand(-0.08, 0.08),
          color: ["#E09FB2", "#799F77", "#FFFFFF", "#F8DEE5"][Math.floor(rand(0,4))]
        };
        p.maxLife = p.life;
        particles.push(p);
      }
    }

    function startHeartFireworks(ms = 3500){
      fxRunning = true;
      fxStopAt = performance.now() + ms;
      fxCanvas.classList.add("show");

      // a few bursts immediately
      for(let i=0;i<3;i++){
        spawnBurst(rand(W*0.25, W*0.75), rand(H*0.25, H*0.55));
      }
      requestAnimationFrame(tickFX);
    }

    function stopHeartFireworks(){
      fxRunning = false;
      setTimeout(()=> fxCanvas.classList.remove("show"), 400);
    }

    function tickFX(t){
      fxCtx.clearRect(0,0,W,H);

      if (fxRunning && t < fxStopAt){
        if (t - lastSpawn > 450){
          lastSpawn = t;
          spawnBurst(rand(W*0.2, W*0.8), rand(H*0.2, H*0.6));
        }
      } else {
        fxRunning = false;
      }

      for(let i=particles.length-1; i>=0; i--){
        const p = particles[i];
        p.vx *= p.drag;
        p.vy = p.vy * p.drag + p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.life -= 1;

        const alpha = Math.max(0, Math.min(1, p.life / p.maxLife));
        fxCtx.globalAlpha = alpha;

        fxCtx.fillStyle = p.color;
        heartPath(fxCtx, p.x, p.y, p.size, p.rot);
        fxCtx.fill();

        if (p.life <= 0 || p.x < -100 || p.x > W+100 || p.y < -200 || p.y > H+200){
          particles.splice(i,1);
        }
      }
      fxCtx.globalAlpha = 1;

      if (fxRunning || particles.length){
        requestAnimationFrame(tickFX);
      } else {
        stopHeartFireworks();
      }
    }

  <script>
    /* âœ¨ EDIT TEXTS HERE âœ¨ */
     // Run heart fireworks ONLY on endYes
  if (step === "endYes") startHeartFireworks(4500);
    const STORY = {
      // --- Heart Fireworks FX (runs on endYes) ---
const fxCanvas = document.getElementById("fxCanvas");
const fxCtx = fxCanvas.getContext("2d", { alpha: true });

let W = 0, H = 0;
function resizeFX(){
  W = fxCanvas.width = Math.floor(window.innerWidth * devicePixelRatio);
  H = fxCanvas.height = Math.floor(window.innerHeight * devicePixelRatio);
  fxCtx.setTransform(1,0,0,1,0,0);
}
window.addEventListener("resize", resizeFX);
resizeFX();

function rand(a,b){ return a + Math.random()*(b-a); }

let particles = [];
let fxRunning = false;
let fxStopAt = 0;
let lastSpawn = 0;

function heartPath(ctx, x, y, s, rot){
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(rot);
  ctx.scale(s, s);
  ctx.beginPath();
  // Simple param heart
  // (x,y) is center-ish in scaled space
  ctx.moveTo(0, -0.4);
  ctx.bezierCurveTo(0.5, -0.95, 1.4, -0.25, 0, 1.0);
  ctx.bezierCurveTo(-1.4, -0.25, -0.5, -0.95, 0, -0.4);
  ctx.closePath();
  ctx.restore();
}

function spawnBurst(cx, cy){
  const count = Math.floor(rand(22, 36));
  for(let i=0;i<count;i++){
    const a = rand(0, Math.PI*2);
    const sp = rand(1.2, 3.4) * devicePixelRatio;
    particles.push({
      x: cx, y: cy,
      vx: Math.cos(a)*sp,
      vy: Math.sin(a)*sp - rand(0.2, 1.3)*devicePixelRatio,
      g: rand(0.02, 0.06)*devicePixelRatio,
      drag: rand(0.985, 0.995),
      life: rand(55, 95),
      maxLife: 0,
      size: rand(6, 12)*devicePixelRatio,
      rot: rand(0, Math.PI*2),
      vr: rand(-0.08, 0.08),
      // stick to your theme (pink/green/white)
      color: ["#E09FB2", "#799F77", "#FFFFFF", "#F8DEE5"][Math.floor(rand(0,4))]
    });
    particles[particles.length-1].maxLife = particles[particles.length-1].life;
  }
}

function startHeartFireworks(ms = 3500){
  fxRunning = true;
  fxStopAt = performance.now() + ms;
  fxCanvas.classList.add("show");

  // spawn a few immediately
  for(let i=0;i<3;i++){
    spawnBurst(rand(W*0.25, W*0.75), rand(H*0.25, H*0.55));
  }

  requestAnimationFrame(tickFX);
}

function stopHeartFireworks(){
  fxRunning = false;
  // let remaining particles fade naturally, then hide
  setTimeout(()=> fxCanvas.classList.remove("show"), 400);
}

function tickFX(t){
  // clear with slight trails
  fxCtx.clearRect(0,0,W,H);

  // spawn bursts while running
  if (fxRunning && t < fxStopAt){
    if (t - lastSpawn > 450){
      lastSpawn = t;
      spawnBurst(rand(W*0.2, W*0.8), rand(H*0.2, H*0.6));
    }
  } else {
    fxRunning = false;
  }

  // draw particles
  for(let i=particles.length-1; i>=0; i--){
    const p = particles[i];
    p.vx *= p.drag;
    p.vy = p.vy * p.drag + p.g;
    p.x += p.vx;
    p.y += p.vy;
    p.rot += p.vr;
    p.life -= 1;

    const alpha = Math.max(0, Math.min(1, p.life / p.maxLife));
    fxCtx.globalAlpha = alpha;

    // draw heart
    fxCtx.fillStyle = p.color;
    heartPath(fxCtx, p.x, p.y, p.size, p.rot);
    fxCtx.fill();

    // remove dead/out
    if (p.life <= 0 || p.x < -100 || p.x > W+100 || p.y < -200 || p.y > H+200){
      particles.splice(i,1);
    }
  }
  fxCtx.globalAlpha = 1;

  // continue while particles exist or still running
  if (fxRunning || particles.length){
    requestAnimationFrame(tickFX);
  } else {
    stopHeartFireworks();
  }
}
      start: {
        text: "",
        choices: [
          { label: "Cringe Simona",  next: "no1" },
          { label: "Simkaaa ðŸ˜…", next: "yes1" }
        ]
      },

      yes1: {
        text: "hihi niekto sa to musÃ­ spÃ½taÅ¥ ðŸ˜‡",
        choices: [
          { label: "vieÅ¡ o tom, Å¾e aj tak budeme v ten deÅˆ spolu? ðŸ˜…", next: "yes2" },
          { label: "is it necessary? ðŸ™ˆ", next: "yes3" }
        ]
      },

      yes2: {
        text: "-_- kÃ¡mo spolupracuj",
        choices: [
          { label: "okay :3", next: "yes2_1" },
          { label: "a musÃ­m?", next: "yes2_2" }
        ]
      },

       yes2_1: {
        text: "jupÃ­Ã­Ã­Ã­, takÅ¾e â¬†ï¸â¬†ï¸â¬†ï¸",
        choices: [
          { label: "Ã¡no :3", next: "endYes" },
          { label: "ostÃ¡va mi nieÄo inÃ©? ðŸ™ˆ", next: "yes2_1_1" }
        ]
      },

       yes2_1_1: {
        text: "NIE ðŸ˜Š takÅ¾e â¬†ï¸â¬†ï¸â¬†ï¸",
        choices: [
          { label: "yes :3", next: "endYes" },
          { label: "yes ðŸ˜…", next: "endYes" }
        ]
      },

      yes2_2: {
        text: "a tak bolo by to peknÃ© od teba...",
        choices: [
          { label: "okay :3", next: "yes3_1" },
          { label: "veÄ ale aj tak budeme spolu v ten deÅˆ ðŸ˜…", next: "yes2_2_1" }
        ]
      },

      yes2_2_1: {
        text: "I know, ale takÃ½mto prÃ­stupom to nemusÃ­me ani oslavovaÅ¥..",
        choices: [
          { label: "ale nooo bubii, ja viem, Å¾e to chceÅ¡ oslavovaÅ¥ ðŸ¥°", next: "yes3_1" },
          { label: "fine by me ðŸ˜…ðŸ˜…ðŸ˜…", next: "yes2_2_2" }
        ]
      },

       yes2_2_2: {
        text: "Wau, Miro, ja som vedela, Å¾e sem Å¥ukneÅ¡ ...",
        choices: [
          { label: "ðŸ˜…ðŸ˜…ðŸ˜…", next: "yes2_2_3" },
        ]
      },

      yes2_2_3: {
        text: "SkÃºsime to eÅ¡te raz ...",
        choices: [
          { label: "okay ðŸ˜Š", next: "start" },
          { label: "je to potrebnÃ© ? ðŸ™ˆ", next: "yes2_2_4" }
        ]
      },

     yes2_2_4: {
        text: "ÃNO, ani ma neÅ¡tvi ..",
        choices: [
          { label: "okay dear :3", next: "start" },
          { label: "Dobre moje najzlaÅ¡ie a najkrajÅ¡ie stvorenie, ktorÃ© mi VesmÃ­r osudne poslal cez Tinder a teraz je jednou z najkrajÅ¡Ã­ch prvkov mÃ´jho Å¾ivota :3", next: "yes2_3" }
        ]
      },

     yes2_3: {
        text: "L-O-L ty si fakt na to Å¥ukol (awwwwwwww)",
        choices: [
          { label: "I already regret my decision ðŸ™ˆ", next: "start" },
          { label: "I clicked out of curiosity ðŸ˜…", next: "yes2_3_1" }
        ]
      },

     yes2_3_1: {
        text: "To fakt ? :(",
        choices: [
          { label: "Ã¡no ðŸ˜…ðŸ˜… ", next: "yes2_3_2" },
        ]
      },

       yes2_3_2: {
        text: "Soâ€¦ does that mean you donâ€™t like me?ðŸ˜­ðŸ˜­ðŸ˜­ ",
        choices: [
          { label: "just put me back at the start...", next: "start" },
          { label: "oh my brother in jesus ðŸ™„", next: "yes2_3_3" }
        ]
      },

       yes2_3_3: {
        text: "jupÃ­Ã­Ã­Ã­Ã­ you do like me ðŸ˜ðŸ˜ðŸ˜  ",
        choices: [
          { label: "just put me back at the start already...", next: "start" },
        ]
      },
      
       yes3: {
        text: "snaÅ¾Ã­m sa byÅ¥ kjut tak spolupracuj -.-",
        choices: [
          { label: "okay ðŸ˜…", next: "yes3_1" },
          { label: "fest Å¾e nie ðŸ˜…", next: "yes3_2" }
        ]
      },

      yes3_1: {
        text: "jupÃ­Ã­Ã­Ã­, takÅ¾e â¬†ï¸â¬†ï¸â¬†ï¸",
        choices: [
          { label: "Ã¡no :3", next: "endYes" },
          { label: "musÃ­m porozmÃ½Å¡Ä¾aÅ¥ ðŸ¤”", next: "yes3_1_1" }
        ]
      },

       yes3_1_1: {
        text: "-____-",
        choices: [
          { label: "okay ðŸ˜…", next: "yes2_1" },
          { label: "ðŸ¤”ðŸ¤”ðŸ¤”", next: "yes3_1_2" }
        ]
      },

   yes3_1_2: {
        text: "...",
        choices: [
          { label: "okay ðŸ˜…", next: "yes2_1" },
          { label: "daj mi eÅ¡te chvÃ­Ä¾ku ðŸ¤”ðŸ¤”ðŸ¤”", next: "yes3_1_3" }
        ]
      },

  yes3_1_3: {
        text: "MIROSLAV ! ",
        choices: [
          { label: "yes I will be your Valentine ðŸ¥°", next: "endYes" }
        ]
      },

       yes3_2: {
        text: "Pekne prosÃ­m?",
        choices: [
          { label: "okay ðŸ˜Š", next: "yes3_1" },
          { label: "kÃ¡mo nie ðŸ˜…", next: "yes3_2_1" }
        ]
      },

       yes3_2_1: {
        text: "Ty ma chceÅ¡ iba naÅ¡tvaÅ¥..",
        choices: [
          { label: "Ã¡no ðŸ˜…", next: "yes2_2_3" },
          { label: "kÃ¡mo, veÄ si si to sama napÃ­sala, sama si to robÃ­Å¡ ðŸ˜…ðŸ˜…", next: "yes3_2_2" }
        ]
      },

       yes3_2_2: {
        text: "dobre, ale to len preto, Å¾e viem ako budeÅ¡ reagovaÅ¥ ..",
        choices: [
          { label: "nenÃ­ pravda", next: "yes3_2_11" },
          { label: "fair ðŸ˜…ðŸ˜…ðŸ˜…", next: "yes3_2_3" }
        ]
      },

       yes3_2_3: {
        text: "No vidiÅ¡, takÅ¾e?",
        choices: [
          { label: "Äo dear ðŸ˜Š? ", next: "no1_1_1" },
        ]
      },

       yes3_2_11: {
        text: "wait to fakt ?",
        choices: [
          { label: "a tak moÅ¾no ðŸ˜…ðŸ˜…", next: "yes3_2_12" },
          { label: "Ã¡no ðŸ˜…", next: "yes3_2_112" }
        ]
      },

       yes3_2_12: {
        text: "I knew it!",
        choices: [
          { label: "a Äo teraz ?", next: "yes2_2_3" }
        ]
      },

      yes3_2_112: {
        text: "ou, tak to skÃºsme znova",
        choices: [
          { label: "okay ðŸ˜…ðŸ˜…", next: "start" },
        ]
      },
      
      no1: {
        text: "CÂ´mon you like it, nie Å¾e nie",
        choices: [
          { label: "joo, je to sweet ðŸ¥°", next: "no1_1" },
          { label: "ako si to vÃ´bec spravila? ðŸ˜…", next: "no1_2" }
        ]
      },

      no1_1: {
        text: "Och, to som rada ðŸ¥°, takÅ¾e ?",
        choices: [
          { label: "Äo dear ðŸ˜Š? ", next: "no1_1_1" },
        ]
      },

      no1_1_1: {
        text: "-_- Miro â¬†ï¸â¬†ï¸â¬†ï¸",
        choices: [
          { label: "Ã¡no :3", next: "endYes" },
          { label: "musÃ­m porozmÃ½Å¡Ä¾aÅ¥ ðŸ¤”", next: "yes3_1_1" }
        ]
      },
      
      no1_2: {
        text: "V dneÅ¡nej dobe s AI vieÅ¡ fakt vÅ¡etko spraviÅ¥",
        choices: [
          { label: "haha fest dobrÃ© ðŸ˜… ", next: "no1_2_1" }
        ]
      },

      no1_2_1: {
        text: "Dobre, ale teraz sa tu o inom bavÃ­me ...",
        choices: [
          { label: "o Äom?", next: "no1_2_2" },
          { label: "a nechceÅ¡ sa baviÅ¥ o nieÄom inom ?ðŸ˜…", next: "no1_2_3" }
        ]
      },

      no1_2_2: {
        text: "â¬†ï¸â¬†ï¸â¬†ï¸",
        choices: [
          { label: "Ã¡no :3", next: "endYes" },
          { label: "musÃ­m porozmÃ½Å¡Ä¾aÅ¥ ðŸ¤”", next: "yes3_1_1" }
        ]
      },

     no1_2_3: {
        text: "kÄ¾udne, keÄ toto dokonÄiÅ¡ ðŸ˜‡",
        choices: [
          { label: "okay :c", next: "yes3_1" },
          { label: "a musÃ­m ? ðŸ™ˆ", next: "yes2_2_4" }
        ]
      },
      
      endYes: {
        text: "Itâ€™s a date ðŸ’˜ Put your final message here.",
        choices: [
          { label: "Restart ðŸ”", next: "start" },
          { label: "Screenshot ðŸ“¸", next: "start" }
        ]
      },

      endNo: {
        text: "Rejectedâ€¦ but still cute ðŸ¤",
        choices: [
          { label: "Restart ðŸ”", next: "start" },
          { label: "Fine yes ðŸ˜³", next: "yes1" }
        ]
      }
    };

    const questionEl = document.getElementById("question");
    const subtextEl = document.getElementById("subtext");
    const choicesEl = document.getElementById("choices");

   function render(step) {
  const s = STORY[step];

  // Update the text under the title
  subtextEl.textContent = s.text || "";

  // Clear old buttons
  choicesEl.innerHTML = "";

  // If there is ONLY 1 button -> centered green
  if (s.choices.length === 1) {
    const b = document.createElement("button");
    b.className = "choice single";
    b.textContent = s.choices[0].label;
    b.onclick = () => render(s.choices[0].next);
    choicesEl.appendChild(b);
    return;
  }

  // If there are 2 buttons -> left green, right pink
  s.choices.forEach((c, i) => {
    const b = document.createElement("button");
    b.className = "choice " + (i === 0 ? "leftBtn" : "rightBtn");
    b.textContent = c.label;
    b.onclick = () => render(c.next);
    choicesEl.appendChild(b);
  });
}

    render("start");
  </script>
</body>
</html>
